<!DOCTYPE html>
<html>
<head>
	<script type="text/javascript">
	function ajax_post_json(){
		var results = document.getElementById("results");
		var hr = new XMLHttpRequest();
		hr.open("GET", "my_json_list.php", true);
		hr.setRequestHeader("Content-type", "application/json", true);
		hr.onreadystatechange = function(){
			//console.log("I'm working on it.");
			if(hr.readyState == 4 && hr.status ==200){
				//hr.responseText
				//console.log("Woohoo.");
				var data = JSON.parse(hr.responseText);
				//results.innerHTML = data.u2.user+" is "+data.u2.age+" and lives in "+data.u2.country;
				results.innerHTML = ''
				for (var obj in data){
					results.innerHTML += data[obj].user+" is "+data[obj].age+" and lives in "+data[obj].country + "<hr />"
				}
			}
		}
		hr.send(null);
		results.innerHTML = "requesting..."; 

	}
	</script>
</head>
<body>
	<div id="results"></div>
	<script type="text/javascript">ajax_post_json();</script>
</body>
</html>